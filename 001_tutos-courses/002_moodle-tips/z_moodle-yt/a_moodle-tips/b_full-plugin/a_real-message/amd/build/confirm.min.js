/**
 * Show a delete message modal instead of doing it on a separate page.
 * @module     local_message
 * @copyright  2023 Adrian Changalombo
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("local_message/confirm",["jquery","core/modal_factory","core/str","core/modal_events","core/ajax","core/notification"],(function($,ModalFactory,String,ModalEvents,Ajax,Notification){const trigger=$(".local_message_delete_btn");ModalFactory.create({type:ModalFactory.types.SAVE_CANCEL,title:String.get_string("delete_message","local_message"),body:String.get_string("delete_message_confirm","local_message"),preShowCallback:function(triggerElement,modal){const messageid=(triggerElement=$(triggerElement)).data("messageId");modal.params={messageid:messageid},modal.setSaveButtonText(String.get_string("delete_message","local_message"))},large:!0},trigger).done((function(modal){modal.getRoot().on(ModalEvents.save,(function(e){e.preventDefault(),Y.log(modal.params);const request={methodname:"local_message_delete_message",args:modal.params};Ajax.call([request])[0].done((data=>{!0===data?window.location.reload():Notification.addNotification({message:String.get_string("delete_message_faild","local_message"),type:"error"})})).fail(Notification.exception)}))}))}));

//# sourceMappingURL=confirm.min.js.map